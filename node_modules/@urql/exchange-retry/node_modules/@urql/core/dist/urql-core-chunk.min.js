var e=require("@0no-co/graphql.web"),r=require("wonka"),t=r=>r&&r.message&&(r.extensions||"GraphQLError"===r.name)?r:"object"==typeof r&&r.message?new e.GraphQLError(r.message,r.nodes,r.source,r.positions,r.path,r,r.extensions||{}):new e.GraphQLError(r);class a extends Error{constructor(e){var r=(e.graphQLErrors||[]).map(t),a=((e,r)=>{var t="";if(e)return`[Network] ${e.message}`;if(r)for(var a of r)t&&(t+="\n"),t+=`[GraphQL] ${a.message}`;return t})(e.networkError,r);super(a),this.name="CombinedError",this.message=a,this.graphQLErrors=r,this.networkError=e.networkError,this.response=e.response}toString(){return this.message}}var o=(e,r)=>{for(var t=0|(r||5381),a=0,o=0|e.length;a<o;a++)t=(t<<5)+t+e.charCodeAt(a);return t},n=new Set,s=new WeakMap,i=e=>{if(null===e||n.has(e))return"null";if("object"!=typeof e)return JSON.stringify(e)||"";if(e.toJSON)return i(e.toJSON());if(Array.isArray(e)){var r="[";for(var t of e)r.length>1&&(r+=","),r+=i(t)||"null";return r+"]"}var a=Object.keys(e).sort();if(!a.length&&e.constructor&&e.constructor!==Object){var o=s.get(e)||Math.random().toString(36).slice(2);return s.set(e,o),i({__key:o})}n.add(e);var f="{";for(var l of a){var c=i(e[l]);c&&(f.length>1&&(f+=","),f+=i(l)+":"+c)}return n.delete(e),f+"}"},f=(e,r,t)=>{if(null==t||"object"!=typeof t||t.toJSON||n.has(t));else if(Array.isArray(t))for(var a=0,o=t.length;a<o;a++)f(e,`${r}.${a}`,t[a]);else if(t instanceof p||t instanceof d)e.set(r,t);else for(var s of(n.add(t),Object.keys(t)))f(e,`${r}.${s}`,t[s])},l=e=>(n.clear(),i(e));class c{}var p="undefined"!=typeof File?File:c,d="undefined"!=typeof Blob?Blob:c,u=/("{3}[\s\S]*"{3}|"(?:\\.|[^"])*")/g,y=/(?:#[^\n\r]+)?(?:[\r\n]+|$)/g,h=(e,r)=>r%2==0?e.replace(y,"\n"):e,v=e=>e.split(u).map(h).join("").trim(),x=new Map,m=new Map,g=r=>{var t;return"string"==typeof r?t=v(r):r.loc&&m.get(r.__key)===r?t=r.loc.source.body:(t=x.get(r)||v(e.print(r)),x.set(r,t)),"string"==typeof r||r.loc||(r.loc={start:0,end:t.length,source:{body:t,name:"gql",locationOffset:{line:1,column:1}}}),t},w=e=>{var r=o(g(e));if(e.definitions){var t=k(e);t&&(r=o(`\n# ${t}`,r))}return r},b=r=>{var t,a;return"string"==typeof r?(t=w(r),a=m.get(t)||e.parse(r,{noLocation:!0})):(t=r.__key||w(r),a=m.get(t)||r),a.loc||g(a),a.__key=t,m.set(t,a),a},k=r=>{for(var t of r.definitions)if(t.kind===e.Kind.OPERATION_DEFINITION)return t.name?t.name.value:void 0},N=(e,r,t)=>{if(!("data"in r)&&!("errors"in r))throw new Error("No Content");var o="subscription"===e.kind;return{operation:e,data:r.data,error:Array.isArray(r.errors)?new a({graphQLErrors:r.errors,response:t}):void 0,extensions:r.extensions?{...r.extensions}:void 0,hasNext:null==r.hasNext?o:r.hasNext,stale:!1}},O=(e,r)=>{if("object"==typeof e&&null!=e&&(!e.constructor||e.constructor===Object||Array.isArray(e))){for(var t of(e=Array.isArray(e)?[...e]:{...e},Object.keys(r)))e[t]=O(e[t],r[t]);return e}return r},E=(e,r,t)=>{var o=e.error?e.error.graphQLErrors:[],n=!!e.extensions||!!r.extensions,s={...e.extensions,...r.extensions},i=r.incremental;"path"in r&&(i=[r]);var f={data:e.data};if(i)for(var l of i){Array.isArray(l.errors)&&o.push(...l.errors),l.extensions&&(Object.assign(s,l.extensions),n=!0);for(var c="data",p=f,d=0,u=l.path.length;d<u;c=l.path[d++])p=p[c]=Array.isArray(p[c])?[...p[c]]:{...p[c]};if(l.items)for(var y=+c>=0?c:0,h=0,v=l.items.length;h<v;h++)p[y+h]=O(p[y+h],l.items[h]);else void 0!==l.data&&(p[c]=O(p[c],l.data))}else f.data=r.data||e.data,o=r.errors||o;return{operation:e.operation,data:f.data,error:o.length?new a({graphQLErrors:o,response:t}):void 0,extensions:n?s:void 0,hasNext:!!r.hasNext,stale:!1}},A=(e,r,t)=>({operation:e,data:void 0,error:new a({networkError:r,response:t}),extensions:void 0,hasNext:!1,stale:!1}),j="undefined"!=typeof TextDecoder?new TextDecoder:null,S=/boundary="?([^=";]+)"?/i,q=/data: ?([^\n]+)/,L=e=>"Buffer"===e.constructor.name?e.toString():j.decode(e);async function*T(e){if(e.body[Symbol.asyncIterator])for await(var r of e.body)yield L(r);else{var t,a=e.body.getReader();try{for(;!(t=await a.read()).done;)yield L(t.value)}finally{a.cancel()}}}async function*_(e,r){var t,a="";for await(var o of e)for(a+=o;(t=a.indexOf(r))>-1;)yield a.slice(0,t),a=a.slice(t+r.length)}exports.CombinedError=a,exports.createRequest=(e,r,t)=>{var a=r||{},n=b(e),s=l(a),i=n.__key;return"{}"!==s&&(i=o(s,i)),{key:i,query:n,variables:a,extensions:t}},exports.getOperationType=r=>{for(var t of r.definitions)if(t.kind===e.Kind.OPERATION_DEFINITION)return t.operation},exports.keyDocument=b,exports.makeErrorResult=A,exports.makeFetchBody=function(e){return{query:e.extensions&&e.extensions.persistedQuery&&!e.extensions.persistedQuery.miss?void 0:g(e.query),operationName:k(e.query),variables:e.variables||void 0,extensions:e.extensions}},exports.makeFetchOptions=(e,r)=>{var t={accept:"subscription"===e.kind?"text/event-stream, multipart/mixed":"application/graphql-response+json, application/graphql+json, application/json, text/event-stream, multipart/mixed"},a=("function"==typeof e.context.fetchOptions?e.context.fetchOptions():e.context.fetchOptions)||{};if(a.headers)for(var o in a.headers)t[o.toLowerCase()]=a.headers[o];var s=((e,r)=>{var t,a;if(r&&("query"!==e.kind||!e.context.preferGetMethod)){var o=l(r),s=(t=r.variables,a=new Map,p===c&&d===c||(n.clear(),f(a,"variables",t)),a);if(s.size){var i=new FormData;i.append("operations",o),i.append("map",l({...[...s.keys()].map((e=>[e]))}));var u=0;for(var y of s.values())i.append(""+u++,y);return i}return o}})(e,r);return"string"!=typeof s||t["content-type"]||(t["content-type"]="application/json"),{...a,method:s?"POST":"GET",body:s,headers:t}},exports.makeFetchSource=function(e,t,a){return r.filter((e=>!!e))(r.fromAsyncIterable(async function*(e,r,t){var a,o,n=!0,s=null;try{"undefined"!=typeof AbortController&&(t.signal=(a=new AbortController).signal),yield await Promise.resolve();var i,f=(o=await(e.context.fetch||fetch)(r,t)).headers.get("Content-Type")||"";if(/multipart\/mixed/i.test(f))i=async function*(e,r){var t,a=e.match(S),o="--"+(a?a[1]:"-"),n=!0;for await(var s of _(T(r),o)){if(n)n=!1;else try{yield t=JSON.parse(s.slice(s.indexOf("\r\n\r\n")+4))}catch(e){if(!t)throw e}if(t&&!t.hasNext)break}t&&t.hasNext&&(yield{hasNext:!1})}(f,o);else if(/text\/event-stream/i.test(f))i=async function*(e){var r;for await(var t of _(T(e),"\n\n")){var a=t.match(q);if(a){var o=a[1];try{yield r=JSON.parse(o)}catch(e){if(!r)throw e}if(r&&!r.hasNext)break}}r&&r.hasNext&&(yield{hasNext:!1})}(o);else{if(/text\//i.test(f))throw new Error(await o.text());i=async function*(e){yield JSON.parse(await e.text())}(o)}for await(var l of i)s=s?E(s,l,o):N(e,l,o),n=!1,yield s,n=!0;s||(yield s=N(e,{},o))}catch(r){if(!n)throw r;yield A(e,(o.status<200||o.status>=300)&&o.statusText?new Error(o.statusText):r,o)}finally{a&&a.abort()}}(e,t,a)))},exports.makeFetchURL=(e,r)=>{var t="query"===e.kind&&e.context.preferGetMethod;if(!t||!r)return e.context.url;var a=new URL(e.context.url);for(var o in r){var n=r[o];n&&a.searchParams.set(o,"object"==typeof n?l(n):n)}var s=a.toString();return s.length>2047&&"force"!==t?(e.context.preferGetMethod=!1,e.context.url):s},exports.makeResult=N,exports.mergeResultPatch=E,exports.stringifyDocument=g,exports.stringifyVariables=l;
//# sourceMappingURL=urql-core-chunk.min.js.map
